<ion-toolbar>
    <ion-buttons slot="start">
        <ion-menu-button class="menu-button"></ion-menu-button>
    </ion-buttons>

    <ion-buttons slot="end">
        <ion-button (click)="openModalShop()">
            <span class="text-white" style="font-size: 17px;">{{ user.coins }}</span>
            <ion-icon src="../../../../assets/icon/coin.svg" class="icon-coin"></ion-icon>
        </ion-button>
        <ion-button (click)="openChallengesNotifications()" style="height: 46px;">
            <ion-icon name="bonfire-outline" class="header-icon"></ion-icon>
            <div *ngIf="countPetitions !== 0" class="count-petition text-center">
                <span class="text-white">{{ countPetitions }}</span>
            </div>
        </ion-button>
        <ion-button [routerLink]="['/chat-group/chat-base']">
            <ion-icon name="chatbox-outline" class="header-icon"></ion-icon>
        </ion-button>
    </ion-buttons>
</ion-toolbar>

<ion-menu contentId="main" type="overlay">
    <ion-header>
        <ion-toolbar style="--min-height: 40px;">
            <ion-title>¡Hola {{ user.username }}!</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-content style="--background: #3f414e;">
        <ion-menu-toggle auto-hide="false">
            <ion-list class="list-menu">
                <ion-item *ngFor="let page of pages; let i = index" (click)="openPage(page.page, i)"
                    [ngClass]="{'selected-page': page.isSelected}">
                    <ion-icon name="{{ page.icon }}" slot="start"></ion-icon>
                    <ion-label>{{ page.title }}</ion-label>
                </ion-item>
                <ion-item (click)="logOut()">
                    <ion-icon name="log-out-outline" slot="start"></ion-icon>
                    <ion-label>Cerrar sesión</ion-label>
                </ion-item>
            </ion-list>
        </ion-menu-toggle>
    </ion-content>
</ion-menu>

<ion-router-outlet id="main" class="base-container"></ion-router-outlet>